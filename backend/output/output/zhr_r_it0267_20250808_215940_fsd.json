{
  "project_name": "System Integrator for Management Information System (MIS) Towards Single Source of Truth (SSoT)",
  "document_location": "zhr_r_it0267_20250808_215940.html",
  "related_documents": [
    "RICEFW ID: RHR018"
  ],
  "reviewers": [
    {
      "role": "Functional Lead",
      "name": "Nasya Miranda Umar"
    }
  ],
  "version_history": [
    {
      "version": "0.01",
      "change": "Initial draft",
      "author": "Adfriansyah",
      "date": "25.06.2025"
    }
  ],
  "user_requirements": "Kebutuhan pengguna adalah untuk melihat data One Time Payment karyawan berdasarkan kriteria tertentu seperti jenis upah, alasan off-cycle payroll, dan tanggal off-cycle payroll.",
  "assumptions": [],
  "program_name": "ZHR_R_IT0267",
  "transaction_code": "N/A",
  "menu_path": "N/A",
  "report_description": "One Time Payment",
  "desain_report_description": "Program ZHR_R_IT0267 menampilkan data One Time Payment dari infotype 0267.  Program membaca data dari infotype 0001 (Data Karyawan), 0032 (Payroll Status), dan 0267 (One Time Payment) berdasarkan periode payroll yang dihitung secara dinamis atau diinput melalui parameter seleksi p_begda.  Data master tambahan dibaca dari tabel T001 (Company Code), TGSBT (Business Area), T512T (Wage Type), dan T52OCRT (Alasan Off-Cycle Payroll) untuk memperkaya informasi yang ditampilkan.  Program memvalidasi data berdasarkan parameter seleksi yang dimasukkan (Wage Type, Alasan Off-Cycle, dan Tanggal Off-Cycle) sebelum menampilkan data dalam ALV Grid.  Kolom yang ditampilkan meliputi Company Code, Company Code Name, Jumlah Data, Wage Type Amount, dan informasi lain dari infotype terkait.  Program juga menghitung total nilai Wage Type Amount.  Program menggunakan class lokal lcl_class untuk modularisasi kode.",
  "selection_parameters": [
    {
      "name": "p_ocrsn",
      "type": "t52ocrt-ocrsn",
      "description": "Reason for payroll",
      "is_mandatory": false,
      "is_select_option": false,
      "has_no_intervals": false,
      "default_value": null
    },
    {
      "name": "p_begda",
      "type": "pa0267-begda",
      "description": "Off-cycle payroll",
      "is_mandatory": false,
      "is_select_option": false,
      "has_no_intervals": false,
      "default_value": null
    },
    {
      "name": "s_lgart",
      "type": "t512t-lgart",
      "description": "Wage Type",
      "is_mandatory": false,
      "is_select_option": true,
      "has_no_intervals": true,
      "default_value": null
    }
  ],
  "field_mappings": [
    {
      "display_name": "Company Code",
      "technical_field": "bukrs",
      "source_table": "PA0001",
      "processing_logic": "Diambil langsung dari infotype 0001 (PA0001-bukrs).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Company Code Name",
      "technical_field": "butxt",
      "source_table": "T001",
      "processing_logic": "Di-lookup dari tabel T001 berdasarkan lw_report-bukrs.",
      "processing_type": "LOOKUP",
      "join_condition": "bukrs = lw_report-bukrs",
      "where_condition": null
    },
    {
      "display_name": "Business Area",
      "technical_field": "gsber",
      "source_table": "PA0001",
      "processing_logic": "Diambil langsung dari infotype 0001 (PA0001-gsber).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Business Area Text",
      "technical_field": "gtext",
      "source_table": "TGSBT",
      "processing_logic": "Di-lookup dari tabel TGSBT berdasarkan lw_report-gsber.",
      "processing_type": "LOOKUP",
      "join_condition": "gsber = lw_report-gsber",
      "where_condition": "spras = 'E'"
    },
    {
      "display_name": "Count",
      "technical_field": "count",
      "source_table": null,
      "processing_logic": "Diisi dengan konstanta 1 untuk setiap record di PA0267.",
      "processing_type": "CONSTANT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Personnel Number",
      "technical_field": "pernr",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-pernr).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Previous Personnel Number",
      "technical_field": "pnalt",
      "source_table": "PA0032",
      "processing_logic": "Diambil langsung dari infotype 0032 (PA0032-pnalt).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Employee Name",
      "technical_field": "ename",
      "source_table": "PA0001",
      "processing_logic": "Diambil langsung dari infotype 0001 (PA0001-ename).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Start Date",
      "technical_field": "begda",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-begda).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Wage Type",
      "technical_field": "lgart",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-lgart).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Wage Type Text",
      "technical_field": "lgtxt",
      "source_table": "T512T",
      "processing_logic": "Di-lookup dari tabel T512T berdasarkan lw_report-lgart.",
      "processing_type": "LOOKUP",
      "join_condition": "lgart = lw_report-lgart",
      "where_condition": "sprsl = 'E' AND molga = gc_molga"
    },
    {
      "display_name": "Wage Type Amount for Payments",
      "technical_field": "betrg",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-betrg).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Currency",
      "technical_field": "waers",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-waers).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Reason for Payroll",
      "technical_field": "ocrsn",
      "source_table": "PA0267",
      "processing_logic": "Diambil langsung dari infotype 0267 (PA0267-ocrsn).",
      "processing_type": "DIRECT",
      "join_condition": null,
      "where_condition": null
    },
    {
      "display_name": "Reason for Payroll Text",
      "technical_field": "ocrtx",
      "source_table": "T52OCRT",
      "processing_logic": "Di-lookup dari tabel T52OCRT berdasarkan lw_report-ocrsn.",
      "processing_type": "LOOKUP",
      "join_condition": "ocrsn = lw_report-ocrsn",
      "where_condition": "sprsl = 'E' AND molga = gc_molga"
    }
  ],
  "validation_rules": [
    "Jika parameter `s_lgart` terisi, data pada `gt_report` akan difilter untuk hanya menampilkan data dengan `lgart` yang sesuai dengan nilai yang ada di `s_lgart`.",
    "Jika parameter `p_ocrsn` terisi, data pada `gt_report` akan difilter untuk hanya menampilkan data dengan `ocrsn` yang sama dengan nilai `p_ocrsn`.",
    "Jika parameter `p_begda` terisi, data pada `gt_report` akan difilter untuk hanya menampilkan data dengan `begda` lebih besar dari nilai `p_begda`."
  ],
  "special_processing": {},
  "valid_dataset_rules": [
    {
      "data": "P0001",
      "condition": "Data Infotype 0001 dibaca untuk setiap karyawan (PERNR) yang ada pada tabel PERAS. Pembacaan dilakukan berdasarkan periode yang ditentukan oleh  `gv_begda` dan `gv_endda`.  Tidak ada validasi eksplisit pada data P0001 selain memastikan data tersebut ada dalam rentang periode yang ditentukan."
    },
    {
      "data": "P0032",
      "condition": "Data Infotype 0032 dibaca untuk setiap karyawan (PERNR) yang ada pada tabel PERAS. Pembacaan dilakukan berdasarkan periode yang ditentukan oleh `gv_begda` dan `gv_endda`. Tidak ada validasi eksplisit pada data P0032 selain memastikan data tersebut ada dalam rentang periode yang ditentukan."
    },
    {
      "data": "P0267",
      "condition": "Data Infotype 0267 dibaca untuk setiap karyawan (PERNR) yang ada pada tabel PERAS. Pembacaan dilakukan berdasarkan periode yang ditentukan oleh `gv_begda` dan `gv_endda`. Data P0267 difilter berdasarkan parameter seleksi `s_lgart` (Wage Type), `p_ocrsn` (Reason for Off-Cycle Payroll), dan `p_begda` (Off-Cycle Payroll Date) yang diinputkan oleh pengguna.  Data yang tidak memenuhi kriteria seleksi akan dihapus dari tabel internal `gt_report`."
    },
    {
      "data": "gt_report",
      "condition": "Tabel internal `gt_report` berisi data yang diambil dari Infotype 0001, 0032, dan 0267. Data dalam tabel ini dianggap valid jika memenuhi semua kondisi validasi yang diterapkan pada P0267, yaitu filter berdasarkan `s_lgart`, `p_ocrsn`, dan `p_begda`."
    }
  ],
  "country_info": [
    {
      "data": "BUTXT",
      "condition": "Ambil BUTXT dari tabel T001 dengan key BUKRS = p0001-bukrs. Jika sy-subrc = 0, isi field butxt dengan hasil lookup."
    }
  ],
  "currency_t500c": [
    {
      "data": "GTEXT",
      "condition": "Ambil GTEXT dari tabel TGSBT dengan key GSBER = p0001-gsber. Jika sy-subrc = 0, isi field gtext dengan hasil lookup."
    }
  ],
  "currency_t001": [
    {
      "data": "LGTXT",
      "condition": "Ambil LGTXT dari tabel T512T dengan key LGART = p0267-lgart. Jika sy-subrc = 0, isi field lgtxt dengan hasil lookup."
    },
    {
      "data": "OCRTX",
      "condition": "Ambil OCRTX dari tabel T52OCRT dengan key OCRSN = p0267-ocrsn. Jika sy-subrc = 0, isi field ocrtx dengan hasil lookup."
    }
  ],
  "authorization_objects": [],
  "user_roles": [],
  "constraints": [],
  "dependencies": [],
  "error_scenarios": [
    {
      "error_description": "Tanggal input pada parameter p_begda tidak valid.",
      "resolution": "Pastikan format tanggal pada parameter p_begda valid (YYYYMMDD).",
      "error_code": "day_in_no_date",
      "severity": "ERROR"
    },
    {
      "error_description": "Error tidak terdefinisi saat memanggil function 'RP_LAST_DAY_OF_MONTHS'.",
      "resolution": "Periksa kembali input parameter pada function 'RP_LAST_DAY_OF_MONTHS' dan dokumentasi function untuk informasi lebih lanjut.",
      "error_code": "OTHERS",
      "severity": "ERROR"
    },
    {
      "error_description": "Proses RHR018_01 sedang aktif.",
      "resolution": "Tunggu hingga proses RHR018_01 selesai atau hubungi administrator.",
      "error_code": "e017",
      "severity": "ERROR"
    },
    {
      "error_description": "Tabel gt_report kosong setelah validasi.",
      "resolution": "Periksa kembali kriteria seleksi yang dimasukkan. Pastikan data yang sesuai dengan kriteria seleksi ada di database.",
      "error_code": "TEXT-m01",
      "severity": "ERROR"
    },
    {
      "error_description": "Kolom yang diminta tidak ditemukan saat mengatur teks kolom di ALV.",
      "resolution": "Periksa kembali nama kolom yang digunakan pada method f_display_alv. Pastikan nama kolom sesuai dengan struktur gt_report.",
      "error_code": "cx_salv_not_found",
      "severity": "ERROR"
    },
    {
      "error_description": "Kesalahan data saat mengatur teks kolom di ALV.",
      "resolution": "Periksa tipe data kolom dan nilai yang akan di-set. Pastikan tipe data dan nilai kompatibel.",
      "error_code": "cx_salv_data_error",
      "severity": "ERROR"
    },
    {
      "error_description": "Error saat membuat objek SALV.",
      "resolution": "Periksa kembali parameter yang diberikan ke method factory dan pastikan data yang diberikan valid.",
      "error_code": "cx_salv_msg",
      "severity": "ERROR"
    },
    {
      "error_description": "Agregasi sudah ada saat mencoba menambahkan agregasi di ALV.",
      "resolution": "Periksa kembali nama agregasi yang digunakan. Pastikan nama agregasi belum ditambahkan sebelumnya.",
      "error_code": "cx_salv_existing",
      "severity": "ERROR"
    }
  ],
  "test_scenarios": [
    {
      "condition": "Karyawan dengan data infotype 0267 yang lengkap dan sesuai dengan kriteria seleksi.",
      "expected_result": "Data karyawan ditampilkan di ALV dengan informasi yang benar, meliputi kode perusahaan, nama perusahaan, area bisnis, deskripsi area bisnis, jenis upah, deskripsi jenis upah, jumlah upah, mata uang, alasan pembayaran off-cycle, dan deskripsi alasan pembayaran off-cycle.",
      "test_data": "pernr: 1000, lgart: 1000, betrg: 1000000, waers: IDR, ocrsn: 01, begda: 01.01.2024",
      "priority": "HIGH"
    },
    {
      "condition": "Karyawan tanpa data infotype 0267.",
      "expected_result": "Data karyawan tidak ditampilkan di ALV.",
      "test_data": "pernr: 2000 (tanpa data di infotype 0267)",
      "priority": "HIGH"
    },
    {
      "condition": "Input parameter s_lgart diisi.",
      "expected_result": "Hanya data karyawan dengan lgart yang sesuai dengan input s_lgart yang ditampilkan.",
      "test_data": "s_lgart: 1000",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter p_ocrsn diisi.",
      "expected_result": "Hanya data karyawan dengan ocrsn yang sesuai dengan input p_ocrsn yang ditampilkan.",
      "test_data": "p_ocrsn: 01",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter p_begda diisi.",
      "expected_result": "Hanya data karyawan dengan begda setelah p_begda yang ditampilkan.",
      "test_data": "p_begda: 01.01.2024",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter s_lgart, p_ocrsn, dan p_begda diisi.",
      "expected_result": "Hanya data karyawan yang memenuhi ketiga kriteria tersebut yang ditampilkan.",
      "test_data": "s_lgart: 1000, p_ocrsn: 01, p_begda: 01.01.2024",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter s_lgart diisi dengan nilai yang tidak ada di data.",
      "expected_result": "Tidak ada data yang ditampilkan di ALV dan muncul pesan error TEXT-m01.",
      "test_data": "s_lgart: 9999",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter p_ocrsn diisi dengan nilai yang tidak ada di data.",
      "expected_result": "Tidak ada data yang ditampilkan di ALV dan muncul pesan error TEXT-m01.",
      "test_data": "p_ocrsn: 99",
      "priority": "MEDIUM"
    },
    {
      "condition": "Input parameter p_begda diisi dengan tanggal yang lebih besar dari semua begda yang ada di data.",
      "expected_result": "Tidak ada data yang ditampilkan di ALV dan muncul pesan error TEXT-m01.",
      "test_data": "p_begda: 01.01.2025",
      "priority": "MEDIUM"
    },
    {
      "condition": "Data infotype 0001, 0032, atau 0267 tidak ada atau tidak lengkap.",
      "expected_result": "Data yang tidak ada atau tidak lengkap akan diabaikan, dan hanya data yang valid yang ditampilkan di ALV.  Tidak ada pesan error yang muncul.",
      "test_data": "Karyawan dengan data tidak lengkap di salah satu infotype 0001, 0032, atau 0267.",
      "priority": "LOW"
    },
    {
      "condition": "Proses RHR018_01 tidak aktif.",
      "expected_result": "Program menampilkan pesan error e017(zab) dan berhenti.",
      "test_data": "Nonaktifkan proses RHR018_01",
      "priority": "HIGH"
    },
    {
      "condition": "Pengujian dengan data yang sangat banyak (misalnya, 10.000 record).",
      "expected_result": "ALV ditampilkan dengan benar dan performanya wajar.",
      "test_data": "10.000 record data karyawan",
      "priority": "LOW"
    }
  ],
  "test_data_location": "",
  "design_changes": []
}