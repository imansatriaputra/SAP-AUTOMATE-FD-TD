# Functional Specification Design (FSD)
## ZHR_R_IT0015
### Additional Payment & deduction

**Generated on:** 2025-07-28 22:30:32

## 1. INFORMASI DOKUMEN

- **Project**: System Integrator for Management Information System Towards Single Source of Truth Implementation Program
- **Document Location**: zhr_r_it0015_20250728_222927.html

- **Related Documents**:
  - RICEFW ID: ZPQ_IT0015

- **Reviewers**:
  - Functional Lead: Nasya Miranda Umar

- **Version History**:
  - 0.01: Initial draft by ICON_RIO (Rio R) on 25.06.2025

## 2. PERSYARATAN UMUM

**User Requirements**: Terdapat kebutuhan untuk mengekstrak data infotype 0015 yang diinput secara manual oleh user, di-upload oleh user maupun hasil interface ke dalam satu template laporan.

Laporan Tunjangan & Potongan TT

**Assumptions**:
- Infotype 0015 telah dibuat.

## 3. EXISTING SAP OBJECTS

- **Program Name**: ZPQ_IT0015
- **Transaction Code**: ZHR_R_IT0015
- **Menu Path**: N/A

## 4. DESAIN

### 4.1 Description detail dari Report

Program ZHR_R_IT0015 menampilkan data tunjangan dan potongan tidak tetap karyawan.  Program membaca data dari infotype 0001 (Data Pribadi), 0015 (Tambahan Pembayaran), dan 0032 (Nomor Induk Pegawai).  Data tambahan diambil dari tabel T001 (Company Code), TGSBT (Business Area), dan T512T (Wage Type).  Program menggunakan ALV untuk menampilkan data yang telah diproses berdasarkan seleksi kriteria yang dimasukkan oleh pengguna, seperti Wage Type.  Output program berupa daftar data yang berisi Company Code, Business Area, Count, Nomor Induk Pegawai, Nama Karyawan, Start Date, Currency, Amount, dan Wage Type.

### 4.2 Selection Screen

| Parameter | Type | Description | Mandatory | Select-Option | No Intervals |
|-----------|------|-------------|-----------|---------------|--------------|
| S_LGART | P0015-LGART | Wage Type | No | Yes | Yes |

### 4.3 Detail Processing

| Field Name | Technical Field | Source Table | Processing Logic | Processing Type |
|------------|-----------------|--------------|------------------|-----------------|
| Company Code | bukrs | P0001 | Directly assigned from P0001-bukrs. | DIRECT |
| Name of Company Code | butxt | T001 | Fetched from T001-butxt using a READ statement with P0001-bukrs as the key. | LOOKUP |
| Business Area | gsber | P0001 | Directly assigned from P0001-gsber. | DIRECT |
| Business Area Desc | gsber_text | TGSBT | Fetched from TGSBT-gtext using a READ statement with P0001-gsber as the key. | LOOKUP |
| Count | count | None | A counter variable (lv_no) incremented within the program logic. | CALCULATION |
| Personnel Number | pernr | P0001 | Directly assigned from P0001-pernr. | DIRECT |
| No Induk Pegawai | prev_pernr | P0032 | Directly assigned from P0032-pnalt. | DIRECT |
| Name of Employee | name | P0001 | Directly assigned from P0001-ename. | DIRECT |
| Start Date | begda | P0015 | Directly assigned from P0015-begda. | DIRECT |
| Wage Type | lgart | P0015 | Directly assigned from P0015-lgart. | DIRECT |
| Wage Type | lgtxt | T512T | Fetched from T512T-lgtxt using a READ statement with P0015-lgart as the key. | LOOKUP |
| Amount | betrg | P0015 | Directly assigned from P0015-betrg. | DIRECT |
| Currency | waers | P0015 | Directly assigned from P0015-waers. | DIRECT |

### 4.4 Detail Process Only valid datasets

| Data | Kondisi |
|------|---------|
| P0000 | Tidak ada kondisi validasi eksplisit untuk infotype 0000 selain pembacaan data. |
| P0001 | Tidak ada kondisi validasi eksplisit untuk infotype 0001 selain pembacaan data. Data seperti bukrs dan gsber dari P0001 digunakan untuk membaca data terkait dari tabel T001 dan TGSBT. |
| P0014 | Tidak ada kondisi validasi eksplisit untuk infotype 0014 selain pembacaan data. |
| P0015 | Data P0015 difilter berdasarkan wage type (lgart) yang dipilih di selection screen (s_lgart).  Data P0015 hanya diproses jika pernr ada. Data lgart dari P0015 digunakan untuk membaca data terkait dari tabel T512T. |
| P0032 | Tidak ada kondisi validasi eksplisit untuk infotype 0032 selain pembacaan data. Data pnalt dari P0032 digunakan untuk melaporkan Previous Personnel Number. |

### Form Get_Country_Info

| Data | Kondisi |
|------|---------|
| BUTXT | Ambil BUTXT dari tabel T001 dengan key BUKRS = P0001-BUKRS. Jika sy-subrc = 0, isi field butxt dengan hasil lookup. |

### Form Get_Currency_T500C

| Data | Kondisi |
|------|---------|
| GTEXT | Ambil GTEXT dari tabel TGSBT dengan key GSBER = P0001-GSBER. Jika sy-subrc = 0, isi field gsber_text dengan hasil lookup. |

### Form Get_Currency_T001

| Data | Kondisi |
|------|---------|
| LGTXT | Ambil LGTXT dari tabel T512T dengan key LGART = P0015-LGART. Jika sy-subrc = 0, isi field lgtxt dengan hasil lookup. |

## 5. PENANGANAN ERROR

| No | Error Description | Resolution | Error Code | Severity |
|----|-------------------|------------|------------|----------|
| 1 | Proses dengan ID RHR006_01 sedang aktif. | Tunggu hingga proses selesai atau hubungi administrator. | E017 | ERROR |
| 2 | User tidak memiliki otorisasi untuk menjalankan program ZPQ_IT0015. | Hubungi administrator untuk mendapatkan otorisasi yang dibutuhkan. | I172 | ERROR |
| 3 | Tanggal input tidak valid. | Periksa kembali tanggal yang diinput dan pastikan formatnya benar (YYYYMMDD). | Day_in_no_date | ERROR |
| 4 | Gagal mengambil nilai select-option ZP_SUPPORT_PAYROLL | Periksa konfigurasi TVarV ZP_SUPPORT_PAYROLL | None | INFO |

## 6. PERSYARATAN PENGUJIAN

| No | Test Condition | Expected Result | Test Data | Priority |
|----|----------------|-----------------|-----------|----------|
| 1 | Pengujian otorisasi pengguna yang valid. | Program berjalan dan menampilkan data. | User yang termasuk dalam parameter 'ZP_SUPPORT_PAYROLL'. | HIGH |
| 2 | Pengujian otorisasi pengguna yang tidak valid. | Program menampilkan pesan error dan berhenti. | User yang tidak termasuk dalam parameter  'ZP_SUPPORT_PAYROLL'. | HIGH |
| 3 | Pengujian dengan input  `s_lgart` kosong. | Program menampilkan semua data infotype 0015. | `s_lgart` dibiarkan kosong. | MEDIUM |
| 4 | Pengujian dengan input `s_lgart` terisi. | Program hanya menampilkan data infotype 0015 yang sesuai dengan `s_lgart` yang diinputkan. | `s_lgart` diisi dengan satu atau beberapa wage type. | MEDIUM |
| 5 | Pengujian dengan input `s_lgart` yang tidak valid. | Program tidak menampilkan data apa pun. | `s_lgart` diisi dengan wage type yang tidak ada di sistem. | MEDIUM |
| 6 | Pengujian dengan data infotype 0015 kosong. | Program berjalan dan menampilkan ALV kosong. | Tidak ada data pada infotype 0015 untuk periode yang dipilih. | MEDIUM |
| 7 | Pengujian dengan data infotype 0001 kosong. | Program berjalan, tetapi beberapa field di ALV akan kosong. | Tidak ada data pada infotype 0001 untuk periode yang dipilih. | MEDIUM |
| 8 | Pengujian dengan data infotype 0032 kosong. | Program berjalan, tetapi field 'Nipeg' di ALV akan kosong. | Tidak ada data pada infotype 0032 untuk periode yang dipilih. | LOW |
| 9 | Pengujian dengan data master data (T001, TGSBT, T512T) tidak lengkap. | Field terkait di ALV akan kosong jika data master tidak ditemukan. | Menghapus sebagian data dari tabel T001, TGSBT, atau T512T. | MEDIUM |
| 10 | Pengujian performa dengan data yang banyak. | Program berjalan dengan performa yang wajar (misalnya, waktu eksekusi kurang dari 1 menit). | Membuat data infotype 0015 dalam jumlah besar (misalnya, 10.000 record). | LOW |